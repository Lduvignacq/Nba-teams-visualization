<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>NBA data visualisation</title>
        <!-- https://d3js.org/ -->
        <script type="text/javascript" src="js/d3.v7.min.js"></script>
        <!-- Your code -->
         
    <script type="text/javascript" src="js/nbajs.js"></script>
    <script type="text/javascript" src="js/radarchart.js"></script>
    <script type="text/javascript" src="js/team-map.js"></script>
    <script type="text/javascript" src="js/team_stats.js"></script>
    <script type="text/javascript" src="js/players.js"></script>
    <script type="text/javascript" src="js/calendar.js"></script>
        <script src="https://d3js.org/d3-hexbin.v0.2.min.js"></script>
        <style>
body {
    background-color: rgb(85, 82, 82);
    color:#464545;
    position: relative;
}
body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    
    width: 100%;
    height: 100%;
    background-image: var(--team-logo, url('data/logo/ATL_logo.svg'));
    background-position: center;
    background-repeat: no-repeat;
    background-size: 60%;
    opacity: 0.08;
    z-index: -1;
    pointer-events: none;
}
svg {
    display: block;
    font-family: sans-serif;
    
    font-size: 100px;
}
#main {overflow: auto;}
#graphs {
    display: grid;
    grid-template-columns: 1.6fr 1fr 1fr;
    grid-template-rows: minmax(52vh, auto) minmax(38vh, auto) minmax(34vh, auto);
    grid-template-areas:
        "map passing shots"
        "map scatter scatter"
        "calendar court court";
    gap: 12px;
    padding: 10px;
    box-sizing: border-box;
    clear: both;
    margin-top: 16px;
    min-height: 10vh;
}

/* each graph cell holds one svg; gives a suggested height */
.graph-cell {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 1px;
    min-height: 100px;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
}

.graph-cell svg {
    width: 100%;
    height: 100%;
    object-fit: contain;
}

.graph-cell.map { grid-area: map; min-height: 460px; }
.graph-cell.passing { grid-area: passing; }
.graph-cell.shots { grid-area: shots; }
.graph-cell.scatter { grid-area: scatter; min-height: 300px; }
.graph-cell.calendar { grid-area: calendar; min-height: 100px; }
.graph-cell.court { grid-area: court; min-height: 100px; }

/* Let calendar/bracket content stretch instead of centering small visuals */
.graph-cell.calendar,
.graph-cell.court {
    align-items: stretch;
    justify-content: stretch;
    padding: 2px;
}

.graph-cell.calendar > *,
.graph-cell.court > * {
    width: 100%;
    height: 100%;
}

/* responsive fallbacks to prevent overlap on zoom/smaller widths */
@media (max-width: 1400px) {
    #graphs {
        grid-template-columns: 1fr 1fr;
        grid-template-rows: minmax(46vh, auto) minmax(38vh, auto) minmax(32vh, auto) minmax(28vh, auto);
        grid-template-areas:
            "map map"
            "passing shots"
            "scatter scatter"
            "calendar court";
    }
}

@media (max-width: 900px) {
    #graphs {
        grid-template-columns: 1fr;
        grid-template-rows: repeat(6, minmax(32vh, auto));
        grid-template-areas:
            "map"
            "passing"
            "shots"
            "scatter"
            "calendar"
            "court";
    }
}
        </style>
    </head>

    <body onload="createViz();">
        <div id="main">
            <div style="float:left " >
                <form>
                    <input type="button" value="apply" onclick="applyControls();" id="toggleBt"/>
                    <label for="minbins" style="margin-left:8px;">Bin count:</label>
                    <!-- <input type="number" id="minbins" min="0" placeholder="min shots (e.g. 10)" value="2" style="width:64px;margin-left:6px;"/> -->
            
                </form>
                    <label for="season-select">Season</label>
                    <select id="season-select" style="margin-left:12px; font-size:35px;" ></select>
                <!-- Replaced dropdown with interactive map -->
            </div>
        </div>
        <div id="graphs">
            <div class="graph-cell map" id="team-map-cell"></div>
            <div class="graph-cell passing" id="passing-chart-cell"></div>
            <div class="graph-cell shots" id="shot-chart-cell"></div>
            <div class="graph-cell scatter" id="graph-cell-4"></div>
            <div class="graph-cell calendar" id="graph-cell-5"></div>
            <div class="graph-cell court" id="graph-cell-6"></div>
        </div>
    </body>

</html>
